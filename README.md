# 🎮 Steam 游戏价格监控插件 astrbot_plugin_SteamSaleTracker

## v1.1.4

这是一个 Steam 游戏价格监控插件。您可以订阅您感兴趣的游戏，插件将定期检查这些游戏的价格，并在价格发生变化时（例如降价、涨价或变为免费）及时通知您。

## 访问统计

## <a href="https://count.getloli.com/"><img src="https://count.getloli.com/get/@:astrbot_plugin_SteamSaleTracker?theme=rule34"></a>

## ✨ 主要功能

- **游戏价格监控：** 定期（默认为每 30 分钟）获取您订阅的游戏的最新价格。
- **价格变动通知：** 当游戏价格发生变化时（降价、涨价或变为免费），立即通过 AstrBot 通知订阅用户。
- **首次价格记录：** 对于新订阅的游戏，会在下次检查时自动记录当前价格作为基准。
- **模糊匹配游戏名：** 支持通过模糊匹配游戏名称来订阅游戏，即使拼写不完全准确也能找到。
- **订阅列表查询：** 随时查看您当前已订阅的所有游戏列表及其最新缓存价格。
- **手动价格检查：** 支持手动触发一次所有订阅游戏的实时价格检查。
- **管理员全局订阅列表：** 管理员可以查看所有用户和群组订阅的游戏列表。
- **跨平台兼容：** 基于 `pathlib`，确保在 Linux、Windows 等不同操作系统上都能稳定运行。

## 指令说明

以下是本插件支持的指令：

| 指令                            | 别名                                                  | 功能说明                                                           | 权限     |
| ------------------------------- | ----------------------------------------------------- | ------------------------------------------------------------------ | -------- |
| `/steamrmd [游戏名或应用id]`    | `steam订阅`, `steam订阅游戏`                          | 订阅游戏，价格变动时将通知您。（目前仅支持英文名称和应用 id）      | 所有用户 |
| `/delsteamrmd [游戏名或应用id]` | `steam取消订阅`, `steam取消订阅游戏`, `steam删除订阅` | 取消订阅游戏。（目前仅支持英文名称和应用 id）                      | 所有用户 |
| `/steamrmdlist`                 | `steam订阅列表`, `steam订阅游戏列表`                  | 查看当前会话（私聊或群聊）已订阅的游戏列表及其最新缓存价格。       | 所有用户 |
| `/steamrmdrefresh`              | `steam检查订阅`, `steam刷新订阅`                      | 手动触发一次所有已订阅游戏的最新价格检查。                         | 所有用户 |
| `/steamrmdall`                  | `steam全局订阅列表`                                   | **管理员专用**。查看所有用户和群组订阅的游戏列表，包括订阅者信息。 | 管理员   |
| `/steamrmdhelp`                 | `steam订阅帮助`                                       | 显示本插件的帮助信息。                                             | 所有用户 |

## 配置项

您可以在 AstrBot 的配置文件中配置以下项：

- `interval_minutes`: 插件检查游戏价格的间隔时间（单位：分钟，默认：`30` 分钟）。
- `steam_api_key`: Steam API 密钥，用于获取游戏价格。通过 [Steam Web API](https://steamcommunity.com/dev/apikey) 获取。

## 已知问题和 ToDo List

- 目前仅支持通过英文名进行订阅。

## 重要更新日志:

### v1.1.4

- 修复了 api 失效的问题。
- 添加了 steam api 的配置项。

### v1.1.0

- 支持使用游戏 id 进行订阅或取消订阅。

## 注意事项

一定要配置好 Steam API 密钥，否则插件将无法正常工作。通过 [Steam Web API](https://steamcommunity.com/dev/apikey) 获取。

信息来自 Steam 官方 API，请遵守相关使用规则。
如果对功能方面有想法，或者遇到问题，欢迎提 [issue](https://github.com/zhewang448/astrbot_plugin_SteamSaleTracker/issues) 反馈。

## ⭐ Stars

> [!TIP]
> 如果本项目对您的生活 / 工作产生了帮助，或者您关注本项目的未来发展，请给项目 Star，这是我维护这个开源项目的动力 ❤️。
